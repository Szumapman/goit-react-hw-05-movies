import{r as o,u as m,j as i}from"./main-4-E1Amgb.js";import{f,M as u}from"./TmdbAPITools-C9iC_wzd.js";import{M as S}from"./MovieList-DbSdLvh1.js";import"./no_poster-CgO5xeLg.js";const M=()=>new Date().toISOString().split("T")[0],d=(t,e)=>{localStorage.setItem("trendingMoviesDate",t),localStorage.setItem("trendingMovies",JSON.stringify(e))},v=()=>{const t=localStorage.getItem("trendingMoviesDate"),e=localStorage.getItem("trendingMovies");return{date:t,movies:e?JSON.parse(e):[]}},E=()=>{const[t,e]=o.useState([]),[r,g]=o.useState(!1),[n]=o.useState(M()),l=m();return o.useEffect(()=>{const{date:c,movies:a}=v();c&&(a==null?void 0:a.length)>0&&c===n?e(a):f(u).then(s=>{e(s.results)}).catch(s=>{s.log(s),g(s.message)})},[n]),o.useEffect(()=>{t.length>0&&d(n,t)},[t]),i.jsxs(i.Fragment,{children:[r&&i.jsx("p",{children:r}),!r&&S(t,l)]})};export{E as default};
